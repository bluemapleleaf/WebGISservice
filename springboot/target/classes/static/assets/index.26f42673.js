import{d as g,u as E,a as v,r as L,o as A,c as b,b as y,e as O,f as u,E as P,g as N,h as I,i as j,z as R,j as q}from"./vendor.4847b99b.js";const D=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(e){if(e.ep)return;e.ep=!0;const n=a(e);fetch(e.href,n)}};D();const S=g({setup(t){const r=E();return v(),sessionStorage.getItem("store")&&r.replaceState(Object.assign({},r.state,JSON.parse(sessionStorage.getItem("store")))),window.addEventListener("beforeunload",()=>{sessionStorage.setItem("store",JSON.stringify(r.state))}),(a,o)=>{const e=L("router-view");return A(),b(e)}}}),T="modulepreload",c={},V="/",i=function(r,a){return!a||a.length===0?r():Promise.all(a.map(o=>{if(o=`${V}${o}`,o in c)return;c[o]=!0;const e=o.endsWith(".css"),n=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${n}`))return;const s=document.createElement("link");if(s.rel=e?"stylesheet":T,e||(s.as="script",s.crossOrigin=""),s.href=o,document.head.appendChild(s),e)return new Promise((_,h)=>{s.addEventListener("load",_),s.addEventListener("error",h)})})).then(()=>r())},k=y(),l=O({history:k,routes:[{path:"/",name:"Index",component:()=>i(()=>import("./Index.ac07d809.js"),["assets/Index.ac07d809.js","assets/Index.aa7800b1.css","assets/vendor.4847b99b.js","assets/plugin-vue_export-helper.21dcd24c.js"]),meta:{requireAuth:!0},children:[{path:"/usermanage",name:"UserManage",component:()=>i(()=>import("./UserManage.cda29151.js"),["assets/UserManage.cda29151.js","assets/vendor.4847b99b.js"]),meta:{requireAuth:!0}},{path:"/eventlist",name:"EventList",component:()=>i(()=>import("./EventList.2201df72.js"),["assets/EventList.2201df72.js","assets/vendor.4847b99b.js"]),meta:{requireAuth:!0}},{path:"/eventmap",name:"EventMap",component:()=>i(()=>import("./EventMap.42992a63.js"),["assets/EventMap.42992a63.js","assets/EventMap.2624fc1b.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.4847b99b.js"]),meta:{requireAuth:!0}},{path:"/heatmap",name:"HeatMap",component:()=>i(()=>import("./analyHeatMap.2aee9c06.js"),["assets/analyHeatMap.2aee9c06.js","assets/analyHeatMap.dfa6bdbb.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.4847b99b.js"]),meta:{requireAuth:!0}},{path:"/announce",name:"Announce",component:()=>i(()=>import("./Announce.a2f222f9.js"),["assets/Announce.a2f222f9.js","assets/Announce.ffb263ee.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.4847b99b.js"]),meta:{requireAuth:!0}},{path:"/lostcharts",name:"lostcharts",component:()=>i(()=>import("./lostCharts.126a37bb.js"),["assets/lostCharts.126a37bb.js","assets/lostCharts.499aa7bb.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.4847b99b.js"]),meta:{requireAuth:!0}}]},{path:"/login",name:"Login",component:()=>i(()=>import("./LoginRegister.1b51d64f.js"),["assets/LoginRegister.1b51d64f.js","assets/LoginRegister.59ec4787.css","assets/vendor.4847b99b.js","assets/plugin-vue_export-helper.21dcd24c.js"])},{path:"/:catchAll(.*)",name:"404",component:()=>i(()=>import("./404.3e1224b9.js"),["assets/404.3e1224b9.js","assets/404.ee0bd5eb.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.4847b99b.js"])}]});let m;const w=()=>{const t={lock:!0,text:"\u52A0\u8F7D\u4E2D...",background:"rgba(0,0,0,0.7)"};m=P.service(t)},p=()=>{m.close()};u.interceptors.request.use(t=>(w(),t));u.interceptors.response.use(t=>(p(),t),t=>(p(),Promise.reject(t)));const d=N({state(){return{userName:"",realName:"",phoneNumber:"",type:1,address:"",affiliation:""}},mutations:{changeUser(t,r){t.userName=r.userName,t.realName=r.realName,t.phoneNumber=r.phoneNumber,t.type=r.type,t.address=r.address,t.affiliation=r.affiliation,console.log(t)}}}),f=I(S).use(l).use(d).use(j,{locale:R});f.mount("#app");f.config.globalProperties.$axios=u;let x=q(()=>d.state.userName);l.beforeEach((t,r,a)=>{t.matched.some(o=>o.meta.requireAuth)?(console.log("\u9700\u8981\u767B\u5F55"),x.value!==""?a():a({path:"/login",query:{redirect:t.fullPath}})):a()});export{d as s};
